{% extends "base.html" %}

{% block title %}
    {% if weather %}{{ weather.city }} - –ü–æ–≥–æ–¥–∞{% else %}–ü–æ–≥–æ–¥–∞{% endif %}
{% endblock %}

{% block content %}
<div class="weather-container">
    <div class="container">
        <form method="POST" action="{{ url_for('weather') }}" class="search-form">
            <input type="text" name="city" placeholder="–í–≤–µ–¥–∏—Ç–µ –≥–æ—Ä–æ–¥" value="{{ searched_city }}" required>
            <button type="submit">–ù–∞–π—Ç–∏</button>
        </form>

        {% if weather %}
        <div class="weather-card">
            <h2>{{ weather.city }}, {{ weather.country }}</h2>
            <div class="weather-main">
             <div class="weather-icon-section">
                    <img src="{{ url_for('static', filename='images/' + weather.custom_icon) }}" 
                         alt="{{ weather.description }}"
                         class="main-weather-icon"
                         id="main-weather-icon"
                         onerror="this.src='{{ url_for('static', filename='images/weather/default.png') }}'">
                </div>

                <div class="weather-info">
                    <div class="temperature">{{ weather.temperature }}¬∞C</div>
                    <div class="weather-description">{{ weather.description }}</div>
                    <div class="feels-like">–û—â—É—â–∞–µ—Ç—Å—è –∫–∞–∫ {{ weather.feels_like }}¬∞C</div>
                </div>
            </div>
            <div class="weather-desc">{{ weather.description }}</div>
            <div class="weather-details">
                <div>üíß –í–ª–∞–∂–Ω–æ—Å—Ç—å: {{ weather.humidity }}%</div>
                <div>üìä –î–∞–≤–ª–µ–Ω–∏–µ: {{ weather.pressure }} hPa</div>
                <div>üí® –í–µ—Ç–µ—Ä: {{ weather.wind_speed }} –º/—Å</div>
            </div>
            <div class="update-time">–û–±–Ω–æ–≤–ª–µ–Ω–æ: {{ weather.timestamp }}</div>
        </div>
        {% endif %}
    </div>
</div>
{% endblock %}